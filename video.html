<!doctype html>
<html lang="bn">
<head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>BanglaHub â€” Player</title>
<style>body{margin:0;background:#000;color:#fff;font-family:Arial} .wrap{max-width:980px;margin:12px auto;padding:10px}</style>
</head>
<body>
<div class="wrap">
  <div id="playerBox" style="background:#111;padding:10px;border-radius:8px">
    <!-- player will be injected here -->
  </div>
</div>

<script>
const p = new URLSearchParams(location.search);
const src = p.get('src'); // prefer full url
const id = p.get('id');   // or Google Drive ID

function setHtml5(videoUrl){
  const box = document.getElementById('playerBox');
  box.innerHTML = '<video controls autoplay style="width:100%;height:70vh;max-height:80vh;background:#000"><source src="'+decodeURIComponent(videoUrl)+'" type="video/mp4">Your browser does not support the video tag.</video>';
}

function setIframe(url){
  const box = document.getElementById('playerBox');
  box.innerHTML = '<iframe src="'+url+'" width="100%" height="70vh" allow="autoplay;fullscreen" style="border:0;border-radius:6px"></iframe>';
}

if (src){
  // if direct mp4 or drive uc link -> use html5
  if (src.endsWith('.mp4') || src.includes('uc?export=download')) {
    setHtml5(src);
  } else {
    setIframe(src);
  }
} else if (id){
  // google drive preview
  setIframe('https://drive.google.com/file/d/' + encodeURIComponent(id) + '/preview');
} else {
  document.getElementById('playerBox').innerHTML = '<div style="padding:20px">Video not found</div>';
}
</script>
</body>
</html>
