<!doctype html>
<html lang="bn">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>BanglaHub â€” Player</title>
<style>
body{margin:0;background:#000;color:#fff;font-family:Arial}
.wrap{max-width:960px;margin:12px auto;padding:10px}
.player{width:100%;background:#000;border-radius:10px;overflow:hidden}
video{width:100%;display:block}
iframe{border:0;width:100%}
</style>
</head>

<body>
<div class="wrap">
  <div id="playerBox" class="player"></div>
</div>

<script>
const p = new URLSearchParams(location.search);
const src = decodeURIComponent(p.get("src")||"");
const box = document.getElementById("playerBox");

if(!src){
  box.innerHTML = "<div style='padding:20px'>Video not found</div>";
}

// Google Drive
else if(src.includes("drive.google.com")){
    const id = src.match(/\/d\/([^\/]+)/)?.[1];
    if(id){
        box.innerHTML = `
        <iframe height="560" allow="autoplay; fullscreen"
        src="https://drive.google.com/file/d/${id}/preview"></iframe>`;
    } else {
        box.innerHTML = `<video controls autoplay src="${src}"></video>`;
    }
}
// MP4, Dropbox
else if(src.endsWith(".mp4") || src.includes("raw=1")){
    box.innerHTML = `<video controls autoplay playsinline><source src="${src}" type="video/mp4"></video>`;
}
// Others (embed)
else{
    box.innerHTML = `<iframe height="560" allow="autoplay; fullscreen" src="${src}"></iframe>`;
}
</script>

</body>
</html>
